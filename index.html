<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <title>special flowers</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body class="not-loaded">
  <div class="night"></div>
  


  <!-- TITLE -->
  <div class="title">for charine</div>

  <div class="flowers">
    <div class="flower flower--1">
      <div class="flower__leafs flower__leafs--1">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>

        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>

      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
        <div class="flower__line__leaf flower__line__leaf--5"></div>
        <div class="flower__line__leaf flower__line__leaf--6"></div>
      </div>
    </div>

    <div class="flower flower--2">
      <div class="flower__leafs flower__leafs--2">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>

      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--3">
      <div class="flower__leafs flower__leafs--3">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>

      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:1.2s">
      <div class="flower__g-long">
        <div class="flower__g-long__top"></div>
        <div class="flower__g-long__bottom"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--1">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--2">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:2.4s">
      <div class="flower__g-right flower__g-right--1">
        <div class="leaf"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:2.8s">
      <div class="flower__g-right flower__g-right--2">
        <div class="leaf"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:2.8s">
      <div class="flower__g-front">
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__line"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:3.2s">
      <div class="flower__g-fr">
        <div class="leaf"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
      </div>
    </div>

    <div class="long-g long-g--0">
      <div class="grow-ans" style="--d:3s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:2.2s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:3.4s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:3.6s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--1">
      <div class="grow-ans" style="--d:3.6s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:3.8s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:4s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:4.2s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--2">
      <div class="grow-ans" style="--d:4s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:4.2s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:4.4s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:4.6s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--3">
      <div class="grow-ans" style="--d:4s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:4.2s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:3s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:3.6s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--4">
      <div class="grow-ans" style="--d:4s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:4.2s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:3s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:3.6s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--5">
      <div class="grow-ans" style="--d:4s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:4.2s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:3s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:3.6s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--6">
      <div class="grow-ans" style="--d:4.2s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:4.4s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:4.6s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:4.8s"><div class="leaf leaf--3"></div></div>
    </div>

    <div class="long-g long-g--7">
      <div class="grow-ans" style="--d:3s"><div class="leaf leaf--0"></div></div>
      <div class="grow-ans" style="--d:3.2s"><div class="leaf leaf--1"></div></div>
      <div class="grow-ans" style="--d:3.5s"><div class="leaf leaf--2"></div></div>
      <div class="grow-ans" style="--d:3.6s"><div class="leaf leaf--3"></div></div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
(() => {
 
    });
  

  function explode(x, y, hueBase){
    const count = PARTICLE_COUNT + Math.floor(rand(-10, 18));
    for(let i=0;i<count;i++){
      const angle = rand(0, Math.PI * 2);
      const speed = rand(1.6, 6.2);
      const hue = (hueBase + rand(-30, 30) + rand(-80, 80)) % 360;

      particles.push({
        x, y,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        life: rand(40, 85),
        maxLife: 0,
        hue,
        size: rand(1.2, 2.6),
        sparkle: Math.random() < 0.35
      });
      particles[particles.length - 1].maxLife = particles[particles.length - 1].life;
    }
  }

  function drawGlowCircle(x, y, r, hue, a){
    ctx.beginPath();
    ctx.fillStyle = `hsla(${hue}, 100%, 65%, ${a})`;
    ctx.shadowColor = `hsla(${hue}, 100%, 60%, ${a})`;
    ctx.shadowBlur = 16;
    ctx.arc(x, y, r, 0, Math.PI*2);
    ctx.fill();
    ctx.shadowBlur = 0;
  }

  function tick(){
    // fade frame (biar ada motion trail halus)
    ctx.globalCompositeOperation = "source-over";
    ctx.fillStyle = "rgba(0,0,0,0.18)";
    ctx.fillRect(0, 0, w, h);

    ctx.globalCompositeOperation = "lighter";

    // spawn rockets random
    if(Math.random() < LAUNCH_CHANCE){
      // sebagian meledak di area dekat judul
      const biasTop = Math.random() < 0.45;
      const x = rand(w * 0.18, w * 0.82);
      if(biasTop){
        // launch sedikit lebih “tepat sasaran” ke area judul
        launch(x);
      } else {
        launch(x);
      }
    }

    // update rockets
    for(let i=rockets.length-1; i>=0; i--){
      const r = rockets[i];
      r.vy += gravity * 0.65;
      r.x += r.vx;
      r.y += r.vy;

      // trail
      r.trail.push({ x: r.x, y: r.y });
      if(r.trail.length > 10) r.trail.shift();

      // draw trail
      for(let t=0; t<r.trail.length; t++){
        const p = r.trail[t];
        const a = t / r.trail.length;
        drawGlowCircle(p.x, p.y, 1.3, r.hue, a * 0.35);
      }
      drawGlowCircle(r.x, r.y, 2.2, r.hue, 0.8);

      // explode condition
      if(r.y <= r.targetY || r.vy > 0){
        explode(r.x, r.y, r.hue);
        rockets.splice(i, 1);
      }

      // keep in bounds
      if(r.x < -50 || r.x > w + 50 || r.y > h + 60) rockets.splice(i, 1);
    }

    // update particles
    for(let i=particles.length-1; i>=0; i--){
      const p = particles[i];

      p.vx *= friction;
      p.vy *= friction;
      p.vy += gravity;

      p.x += p.vx;
      p.y += p.vy;

      p.life -= 1;

      const lifeRatio = clamp(p.life / p.maxLife, 0, 1);
      const alpha = lifeRatio * 0.9;

      // sparkle flicker
      const size = p.sparkle ? (p.size * (0.6 + Math.random()*0.8)) : p.size;

      drawGlowCircle(p.x, p.y, size, p.hue, alpha);

      if(p.life <= 0 || p.y > h + 60) particles.splice(i, 1);
    }

    requestAnimationFrame(tick);
  }

  // start with a few launches so it doesn’t feel empty
  for(let i=0;i<(prefersReducedMotion ? 2 : 5);i++) launch(rand(w*0.25, w*0.75));
  tick();

</script>
<script>

  function explode(x, y, hueBase){
    const count = PARTICLE_COUNT + Math.floor(rand(-10, 18));
    for(let i=0;i<count;i++){
      const angle = rand(0, Math.PI * 2);
      const speed = rand(1.6, 6.2);
      const hue = (hueBase + rand(-30, 30) + rand(-80, 80)) % 360;

      particles.push({
        x, y,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        life: rand(40, 85),
        maxLife: 0,
        hue,
        size: rand(1.2, 2.6),
        sparkle: Math.random() < 0.35
      });
      particles[particles.length - 1].maxLife = particles[particles.length - 1].life;
    }
  }

  function drawGlowCircle(x, y, r, hue, a){
    ctx.beginPath();
    ctx.fillStyle = `hsla(${hue}, 100%, 65%, ${a})`;
    ctx.shadowColor = `hsla(${hue}, 100%, 60%, ${a})`;
    ctx.shadowBlur = 16;
    ctx.arc(x, y, r, 0, Math.PI*2);
    ctx.fill();
    ctx.shadowBlur = 0;
  }

  function tick(){
    // fade frame (biar ada motion trail halus)
    ctx.globalCompositeOperation = "source-over";
    ctx.fillStyle = "rgba(0,0,0,0.18)";
    ctx.fillRect(0, 0, w, h);

    ctx.globalCompositeOperation = "lighter";

    // spawn rockets random
    if(Math.random() < LAUNCH_CHANCE){
      // sebagian meledak di area dekat judul
      const biasTop = Math.random() < 0.45;
      const x = rand(w * 0.18, w * 0.82);
      if(biasTop){
        // launch sedikit lebih “tepat sasaran” ke area judul
        launch(x);
      } else {
        launch(x);
      }
    }

    // update rockets
    for(let i=rockets.length-1; i>=0; i--){
      const r = rockets[i];
      r.vy += gravity * 0.65;
      r.x += r.vx;
      r.y += r.vy;

      // trail
      r.trail.push({ x: r.x, y: r.y });
      if(r.trail.length > 10) r.trail.shift();

      // draw trail
      for(let t=0; t<r.trail.length; t++){
        const p = r.trail[t];
        const a = t / r.trail.length;
        drawGlowCircle(p.x, p.y, 1.3, r.hue, a * 0.35);
      }
      drawGlowCircle(r.x, r.y, 2.2, r.hue, 0.8);

      // explode condition
      if(r.y <= r.targetY || r.vy > 0){
        explode(r.x, r.y, r.hue);
        rockets.splice(i, 1);
      }

      // keep in bounds
      if(r.x < -50 || r.x > w + 50 || r.y > h + 60) rockets.splice(i, 1);
    }

    // update particles
    for(let i=particles.length-1; i>=0; i--){
      const p = particles[i];

      p.vx *= friction;
      p.vy *= friction;
      p.vy += gravity;

      p.x += p.vx;
      p.y += p.vy;

      p.life -= 1;

      const lifeRatio = clamp(p.life / p.maxLife, 0, 1);
      const alpha = lifeRatio * 0.9;

      // sparkle flicker
      const size = p.sparkle ? (p.size * (0.6 + Math.random()*0.8)) : p.size;

      drawGlowCircle(p.x, p.y, size, p.hue, alpha);

      if(p.life <= 0 || p.y > h + 60) particles.splice(i, 1);
    }

    requestAnimationFrame(tick);
  }

  // start with a few launches so it doesn’t feel empty
  for(let i=0;i<(prefersReducedMotion ? 2 : 5);i++) launch(rand(w*0.25, w*0.75));
  tick();

</script>

</body>
</html>
